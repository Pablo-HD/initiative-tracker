(this["webpackJsonpinitiative-tracker-2"]=this["webpackJsonpinitiative-tracker-2"]||[]).push([[0],{100:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),i=n.n(r),c=n(12),o=n.n(c),s=(n(100),n(158)),l=n(70),d=n(71),u=n(109);function p(){var e=Object(l.a)(['\n  box-sizing: border-box;\n  min-width: 100vh;\n  min-height: 100vh;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  font-family: "Raleway", sans-serif;\n  justify-content: flex-start;\n']);return p=function(){return e},e}var j=Object(d.a)(u.a)(p()),b=n(161),O=n(150),m=n(13),x=n(38),f=n(154),h=n(162),y=n(149),v=n(166),C=n(80),g=n.n(C),E=n(79),R=n.n(E),I=function(e){return{type:"CHANGE_CHARACTER",payload:e}},N=["Blinded","Charmed","Deafened","Frightened","Grappled","Incapacitated","Invisible","Paralyzed","Petrified","Poisoned","Prone","Restrained","Stunned","Unconscious"],A=function(e){var t=e.currHp,n=e.setCurrHp,r=e.maxHp,i=e.id,c=e.properties,o=Object(m.b)(),s=Object(m.c)((function(e){return e.characters})).findIndex((function(e){return e.id===i})),l=function(e){n("add"===e?t+1:t-1),console.log(t)},d=function(e){var t,n,a=c.conditions.includes(e.target.innerText);o(a?(t=s,n=e.target.innerText,{type:"REMOVE_CONDITION",payload:{index:t,condition:n}}):function(e,t){return{type:"ADD_CONDITION",payload:{index:e,condition:t}}}(s,e.target.innerText))};return Object(a.jsxs)(b.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(a.jsxs)("div",{className:"character-description",style:{alignItems:"center",display:"flex",justifyContent:"center",flexWrap:"wrap",width:"300px"},children:[Object(a.jsx)(y.a,{onClick:function(){return l("subtract")},children:Object(a.jsx)(R.a,{})}),Object(a.jsx)("span",{children:t}),Object(a.jsxs)("span",{children:["\xa0/ ",r]}),Object(a.jsx)(y.a,{onClick:function(){return l("add")},children:Object(a.jsx)(g.a,{})})]}),Object(a.jsx)("p",{style:{fontSize:".6rem",marginTop:-6},children:"HIT POINTS"}),Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",width:"300px"},children:N.map((function(e,t){return Object(a.jsx)(v.a,{onClick:d,size:"small",label:e,color:c.conditions.includes(e)?"secondary":"default",style:{margin:"1px"}},t)}))})]})},T=n(151),_=Object(O.a)({root:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1em .5em .1em"},box:{display:"flex",flexDirection:"column",width:"5em"},subtext:{fontSize:".5em",margin:0},number:{fontSize:"1em",margin:0},name:{textTransform:"uppercase"}}),S=function(e){var t=e.initiative,n=e.name,r=e.ac,i=_();return Object(a.jsxs)(b.a,{className:i.root,children:[Object(a.jsxs)(b.a,{className:i.box,children:[Object(a.jsx)(T.a,{component:"span",align:"center",variant:"h6",className:i.number,children:t}),Object(a.jsx)(T.a,{className:i.subtext,align:"center",variant:"caption",children:"INITIATIVE"})]}),Object(a.jsx)(T.a,{variant:"h6",className:i.name,children:n}),Object(a.jsxs)(b.a,{className:i.box,children:[Object(a.jsx)(T.a,{component:"span",align:"center",variant:"h6",className:i.number,children:r}),Object(a.jsx)(T.a,{className:i.subtext,align:"center",variant:"caption",children:"ARMOR CLASS"})]})]})},w=n(152),H=Object(O.a)({card:{backgroundColor:"#504945",display:"flex",flexDirection:"column",margin:"2rem",width:"20rem",height:"20rem",position:"relative"}}),D=function(e){var t=e.children,n=H();return Object(a.jsx)(w.a,{className:n.card,children:t})},F=n(153),M=n(83),k=n(167),P=n(81),G=n.n(P),z=Object(O.a)({actions:{position:"absolute",bottom:".2rem",right:".5rem"}}),V=function(e){var t=e.character,n=z(),i=Object(m.b)(),c=Object(r.useState)(!1),o=Object(x.a)(c,2),s=o[0],l=o[1],d=Object(r.useState)(null),u=Object(x.a)(d,2),p=u[0],j=u[1],b=function(){l(!1),j(null)};return Object(a.jsxs)(F.a,{className:n.actions,children:[Object(a.jsx)(y.a,{"aria-label":"more",size:"small",onClick:function(e){l(!0),j(e.currentTarget)},children:Object(a.jsx)(G.a,{})}),Object(a.jsxs)(M.a,{anchorEl:p,keepMounted:!0,open:s,onClose:b,children:[Object(a.jsx)(k.a,{onClick:function(){b(),i({type:"EDIT_CHARACTER_PROPERTIES",payload:t.properties}),i(function(e){return{type:"IS_EDITING_FORM",payload:e}}(t)),i({type:"OPEN_FORM"})},children:"Edit"}),Object(a.jsx)(k.a,{onClick:function(){b(),i(function(e){return{type:"REMOVE_CHARACTER",payload:e}}(t))},children:"Remove"})]})]})},q=n(29),J=n(160),W=Object(O.a)({notes:{margin:"1em"}}),B=function(e){var t=e.character,n=W(),r=Object(m.b)();return Object(a.jsx)(J.a,{className:n.notes,multiline:!0,rows:5,value:t.properties.notes,onChange:function(e){var n=Object(q.a)({},t);n.properties.notes=e.target.value,r(I(n))},variant:"outlined",color:"secondary"})},L=function(e){var t=e.character,n=t.id,i=t.properties,c=Object(r.useState)("info"),o=Object(x.a)(c,2),s=o[0],l=o[1],d=Object(r.useState)(+i.maxHp),u=Object(x.a)(d,2),p=u[0],j=u[1];return Object(a.jsxs)(D,{children:[Object(a.jsx)(S,{initiative:i.initiative,name:i.name,ac:i.ac}),Object(a.jsxs)(h.a,{value:s,onChange:function(e,t){l(t)},"aria-label":"simple tabs example",children:[Object(a.jsx)(f.a,{value:"info",label:"Info"}),Object(a.jsx)(f.a,{value:"notes",label:"Notes"})]}),"info"===s&&Object(a.jsx)(A,{maxHp:i.maxHp,currHp:p,setCurrHp:j,id:n,properties:i}),"notes"===s&&Object(a.jsx)(B,{character:t}),Object(a.jsx)(V,{character:t})]})},K=Object(O.a)({box:{display:"flex",flexWrap:"wrap",justifyContent:"center"}}),U=function(){var e=K(),t=Object(m.c)((function(e){return e.characters}));return Object(a.jsx)(b.a,{className:e.box,children:t.map((function(e,t){return Object(a.jsx)(L,{character:e},t)}))})},Q=n(164),X=n(157),Y=n(165),Z=n(156),$=n(155),ee=Object(O.a)({input:{width:"5em",margin:"1em"},inputName:{flexGrow:1,margin:"1em"}}),te=function(){var e=ee(),t=Object(m.b)(),n=Object(m.c)((function(e){return e.isFormOpen})),r=Object(m.c)((function(e){return e.characterForm})),i=Object(m.c)((function(e){return e.isEditingForm.isEditing})),c=Object(m.c)((function(e){return e.isEditingForm.character})),o=function(e){var n=e.target.id,a=e.target.value;t(function(e,t){return{type:"CHANGE_CHARACTER_FORM",payload:{field:e,value:t}}}(n,a))},s=function(){i&&t({type:"IS_NOT_EDITING_FORM"}),t({type:"CLOSE_FORM"})};return Object(a.jsx)("div",{children:Object(a.jsxs)(Y.a,{open:n,onClose:s,children:[Object(a.jsx)($.a,{children:Object(a.jsxs)(b.a,{component:"form",onSubmit:i?function(e){e.preventDefault(),t(I({properties:r,id:c.id})),t({type:"RESET_CHARACTER_FORM"}),s()}:function(e){e.preventDefault(),t(function(e){return{type:"ADD_CHARACTER",payload:e}}({properties:r,id:Object(Q.a)()})),t({type:"RESET_CHARACTER_FORM"}),s()},id:"new-character-form",display:"flex",flexWrap:"wrap",justifyContent:"spaceAround",children:[Object(a.jsx)(J.a,{autoFocus:!0,id:"name",onChange:o,label:"Character Name",type:"text",required:!0,value:r.name,className:e.inputName}),Object(a.jsx)(J.a,{required:!0,id:"initiative",onChange:o,label:"Initiative",type:"number",value:r.initiative,className:e.input}),Object(a.jsx)(J.a,{onChange:o,label:"AC",id:"ac",type:"number",required:!0,value:r.ac,className:e.input}),Object(a.jsx)(J.a,{onChange:o,label:"Max HP",type:"number",InputProps:{inputProps:{min:0}},id:"maxHp",min:"0",required:!0,value:r.maxHp,className:e.input})]})}),Object(a.jsxs)(Z.a,{children:[Object(a.jsx)(X.a,{onClick:s,children:"Cancel"}),Object(a.jsx)(X.a,{type:"submit",form:"new-character-form",children:i?"Edit":"Add"})]})]})})},ne=Object(O.a)({box:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"1rem","&& h1":{color:"#ebdbb2",fontFamily:"'Patua One', cursive",fontSize:"3rem",letterSpacing:".3em",marginBottom:".5em",boxSizing:"border-box"},"&& button":{width:"12em"}}}),ae=function(){var e=ne(),t=Object(m.b)();return Object(a.jsxs)(b.a,{className:e.box,children:[Object(a.jsx)("h1",{children:"INITIATIVE TRACKER"}),Object(a.jsx)(X.a,{variant:"contained",color:"secondary",onClick:function(){return t({type:"OPEN_FORM"})},children:"Add Character"})]})};var re=function(){return Object(a.jsx)(j,{square:!0,elevation:0,children:Object(a.jsxs)(s.a,{children:[Object(a.jsx)(ae,{}),Object(a.jsx)(U,{}),Object(a.jsx)(te,{})]})})},ie=n(32),ce=n(82),oe=n(159),se=n(62),le=[];null===window.localStorage.getItem("characters")?window.localStorage.setItem("characters",JSON.stringify([])):le.push.apply(le,Object(se.a)(JSON.parse(window.localStorage.getItem("characters"))));var de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,n=Object(se.a)(e),a=t.payload?n.findIndex((function(e){return e.id===t.payload.id})):-1;switch(t.type){case"ADD_CHARACTER":n.push(t.payload),n.sort((function(e,t){return parseInt(t.properties.initiative)-parseInt(e.properties.initiative)}));break;case"CHANGE_CHARACTER":n[a]=t.payload,n.sort((function(e,t){return parseInt(t.properties.initiative)-parseInt(e.properties.initiative)}));break;case"ADD_CONDITION":n[t.payload.index].properties.conditions.push(t.payload.condition);break;case"REMOVE_CONDITION":var r=n[t.payload.index].properties.conditions.findIndex((function(e){return e===t.payload.condition}));n[t.payload.index].properties.conditions.splice(r,1);break;case"REMOVE_CHARACTER":n.splice(a,1);break;default:return e}return window.localStorage.setItem("characters",JSON.stringify(n)),n},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_FORM":return!0;case"CLOSE_FORM":return!1;default:return e}},pe=n(56),je={initiative:"",name:"",ac:"",maxHp:"",notes:"",conditions:[]},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(q.a)({},je),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CHARACTER_FORM":var n=t.payload,a=n.field,r=n.value;return Object(q.a)(Object(q.a)({},e),{},Object(pe.a)({},a,r));case"RESET_CHARACTER_FORM":return Object(q.a)({},je);case"EDIT_CHARACTER_PROPERTIES":return Object(q.a)({},t.payload);default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isEditing:!1,character:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_EDITING_FORM":return{isEditing:!0,character:t.payload};case"IS_NOT_EDITING_FORM":return{isEditing:!1,character:null};default:return e}},me=Object(ie.b)({characters:de,isFormOpen:ue,characterForm:be,isEditingForm:Oe}),xe=Object(ie.c)(me),fe=Object(ce.a)({palette:{type:"dark",background:{paper:"#282828"},primary:{main:"#98971a"},secondary:{main:"#d79921"}}});o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(m.a,{store:xe,children:Object(a.jsx)(oe.a,{theme:fe,children:Object(a.jsx)(re,{})})})}),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.2c5e9159.chunk.js.map